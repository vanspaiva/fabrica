import Zt,{Component as Xt}from"react";import{BaseComponentWrapper as er,GridCoreCreator as tr,ModuleRegistry as rr,VanillaFrameworkOverrides as sr,_combineAttributesAndGridOptions as nr,_processOnChange as or,_warnOnce as ar}from"ag-grid-community";import $e,{forwardRef as cr,useCallback as Je,useContext as lr,useEffect as ir,useImperativeHandle as ur,useMemo as Ke,useRef as te,useState as Pe}from"react";import{_escapeString as dr}from"ag-grid-community";import ce,{forwardRef as pr,useCallback as mr,useContext as hr,useImperativeHandle as fr,useLayoutEffect as Cr,useMemo as Qe,useRef as be,useState as fe}from"react";import gr from"react";var q=gr.createContext({}),De=(e,t,r,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const a=e.newAgStackInstance();if(a==null)return;let l,o,c=!1;return a.then(p=>{if(c){t.destroyBean(p);return}l=p,o=l.getGui(),r.appendChild(o),St(s,l)}),()=>{c=!0,l&&(o&&o.parentElement&&o.parentElement.removeChild(o),t.destroyBean(l),s&&St(s,void 0))}},St=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}};import ot from"react-dom";var re=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),ee=class Qt{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const n=new Qt;return n.classesMap={...this.classesMap},n.classesMap[t]=r,n}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},Se=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},kt=ot.createRoot!=null&&ot.flushSync!=null;function Rr(){return!kt}var qe=!1;function yr(e){return qe||setTimeout(()=>qe=!1,0),qe=!0,e()}var at=(e,t)=>{kt&&e&&!qe?ot.flushSync(t):t()};function ct(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const s=[],n=[],a=new Map,l=new Map;for(let o=0;o<t.length;o++){const c=t[o];l.set(c.getInstanceId(),c)}for(let o=0;o<e.length;o++){const c=e[o];a.set(c.getInstanceId(),c),l.has(c.getInstanceId())&&s.push(c)}for(let o=0;o<t.length;o++){const c=t[o],p=c.getInstanceId();a.has(p)||n.push(c)}return s.length===e.length&&n.length===0?e:s.length===0&&n.length===t.length?t:s.length===0?n:n.length===0?s:[...s,...n]}var Ft=pr((e,t)=>{const{ctrlsFactory:r,context:s}=hr(q),n=be(null),a=be(null),l=be(null),o=be(null),c=be(null),p=be(),[i,u]=fe(),[v,C]=fe(),[d,h]=fe(),[m,f]=fe(()=>new ee),[g,E]=fe(()=>new ee("ag-hidden")),[w,S]=fe(()=>new ee("ag-hidden")),[k,G]=fe(()=>new ee("ag-invisible"));fr(t,()=>({refresh(){return!1}})),Cr(()=>De(i,s,a.current),[i]);const M=mr(O=>{if(n.current=O,!n.current){s.destroyBean(p.current),p.current=null;return}const D={setInnerRenderer:(T,B)=>{u(T),h(B)},setChildCount:T=>C(T),addOrRemoveCssClass:(T,B)=>f(F=>F.setClass(T,B)),setContractedDisplayed:T=>S(B=>B.setClass("ag-hidden",!T)),setExpandedDisplayed:T=>E(B=>B.setClass("ag-hidden",!T)),setCheckboxVisible:T=>G(B=>B.setClass("ag-invisible",!T))},L=r.getInstance("groupCellRendererCtrl");L&&(p.current=s.createBean(L),p.current.init(D,n.current,l.current,o.current,c.current,Ft,e))},[]),R=Qe(()=>`ag-cell-wrapper ${m.toString()}`,[m]),y=Qe(()=>`ag-group-expanded ${g.toString()}`,[g]),P=Qe(()=>`ag-group-contracted ${w.toString()}`,[w]),b=Qe(()=>`ag-group-checkbox ${k.toString()}`,[k]),U=i&&i.componentFromFramework,A=U?i.componentClass:void 0,N=i==null&&d!=null,I=dr(d,!0);return ce.createElement("span",{className:R,ref:M,...e.colDef?{}:{role:p.current?.getCellAriaRole()}},ce.createElement("span",{className:y,ref:o}),ce.createElement("span",{className:P,ref:c}),ce.createElement("span",{className:b,ref:l}),ce.createElement("span",{className:"ag-group-value",ref:a},N&&ce.createElement(ce.Fragment,null,I),U&&ce.createElement(A,{...i.params})),ce.createElement("span",{className:"ag-group-child-count"},v))}),Mt=Ft;import{AgPromise as lt}from"ag-grid-community";import It,{memo as vr,useEffect as wr,useState as Er}from"react";import{createContext as Pr}from"react";var Be=Pr({setMethods:()=>{}}),br=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:s,setMethods:n}=e,[a,l]=Er(t);return wr(()=>{r(o=>l(o))},[]),It.createElement(Be.Provider,{value:{setMethods:n}},It.createElement(s,{...a}))},Sr=vr(br);import{AgPromise as it,_warnOnce as xt}from"ag-grid-community";import{createElement as kr}from"react";import{createPortal as Fr}from"react-dom";var Mr=0;function Gt(){return`agPortalKey_${++Mr}`}var At=class{constructor(e,t,r,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Gt(),this.portalKey=Gt(),this.instanceCreated=this.isStatelessComponent()?it.resolve(!1):new it(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(xt('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(xt('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const s=r[e];if(s)return s.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new it(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.addParentContainerStyleAndClasses(),this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Fr(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return kr(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function ut(e,t,r){e.forEach(s=>{const n=t[s];n&&(r[s]=n)})}var le=class extends At{constructor(){super(...arguments),this.awaitUpdateCallback=new lt(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=Sr}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new lt(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,ut(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new lt(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Ir=class extends le{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},xr=class extends le{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Gr=class extends le{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};import{AgPromise as Ar}from"ag-grid-community";function Ot(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||Ar.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Or=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){ut(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Ot(this.floatingFilterParams,e)}},Dr=class extends le{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Ot(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Br=class extends le{refresh(e){this.sourceParams=e,this.refreshProps()}},Wr=class extends le{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Tr=class extends le{refresh(e){this.sourceParams=e,this.refreshProps()}},Nr=class extends le{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Hr=class extends le{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};import{AgPromise as Ur,_warnOnce as Lr}from"ag-grid-community";function _r(e,t){(e?.getInstance?.()??Ur.resolve(void 0)).then(s=>t(s))}function Ye(){Lr("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var Vr=1e3,jr=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||Vr}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}};import{GridCtrl as zr}from"ag-grid-community";import We,{memo as $r,useCallback as dt,useEffect as Jr,useMemo as Ze,useRef as ke,useState as Ce}from"react";import{CssClassManager as Kr,FakeHScrollComp as Qr,FakeVScrollComp as qr,GridBodyCtrl as Yr,OverlayWrapperComponent as Zr,_setAriaColCount as Xr,_setAriaRowCount as es}from"ag-grid-community";import Te,{memo as ts,useCallback as rs,useContext as ss,useMemo as se,useRef as ne,useState as Y}from"react";import{GridHeaderCtrl as ns}from"ag-grid-community";import Xe,{memo as os,useCallback as as,useContext as cs,useMemo as Dt,useRef as Bt,useState as Wt}from"react";import{HeaderRowContainerCtrl as ls}from"ag-grid-community";import ge,{memo as is,useCallback as us,useContext as ds,useRef as pt,useState as Tt}from"react";import{HeaderRowType as Nt}from"ag-grid-community";import et,{memo as ps,useCallback as Ht,useMemo as Ut,useRef as mt,useState as ht}from"react";import{CssClassManager as ms,_removeAriaSort as hs,_setAriaSort as fs}from"ag-grid-community";import Ne,{memo as Cs,useCallback as gs,useContext as Rs,useEffect as ys,useLayoutEffect as vs,useMemo as ws,useRef as He,useState as Es}from"react";var Ps=e=>{const{ctrl:t}=e,r=t.isAlive(),{context:s}=Rs(q),n=r?t.getColId():void 0,[a,l]=Es(),o=He(null),c=He(null),p=He(null),i=He(),u=He();r&&!u.current&&(u.current=new ms(()=>o.current));const v=gs(m=>{if(o.current=m,!o.current||!r)return;const f={setWidth:E=>{o.current&&(o.current.style.width=E)},addOrRemoveCssClass:(E,w)=>u.current.addOrRemoveCssClass(E,w),setAriaSort:E=>{o.current&&(E?fs(o.current,E):hs(o.current))},setUserCompDetails:E=>l(E),getUserCompInstance:()=>i.current||void 0};t.setComp(f,o.current,c.current,p.current);const g=t.getSelectAllGui();c.current?.insertAdjacentElement("afterend",g)},[]);vs(()=>De(a,s,p.current,i),[a]),ys(()=>{t.setDragSource(o.current)},[a]);const C=ws(()=>!!(a?.componentFromFramework&&Se(a.componentClass)),[a]),d=a&&a.componentFromFramework,h=a&&a.componentClass;return Ne.createElement("div",{ref:v,className:"ag-header-cell","col-id":n,role:"columnheader"},Ne.createElement("div",{ref:c,className:"ag-header-cell-resize",role:"presentation"}),Ne.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},d&&C&&Ne.createElement(h,{...a.params}),d&&!C&&Ne.createElement(h,{...a.params,ref:i})))},bs=Cs(Ps);import{AgPromise as Ss}from"ag-grid-community";import Re,{memo as ks,useCallback as Fs,useContext as Ms,useLayoutEffect as Is,useMemo as Fe,useRef as Me,useState as Ie}from"react";var xs=e=>{const{context:t,gos:r}=Ms(q),[s,n]=Ie(()=>new ee("ag-header-cell","ag-floating-filter")),[a,l]=Ie(()=>new ee),[o,c]=Ie(()=>new ee("ag-floating-filter-button","ag-hidden")),[p,i]=Ie("false"),[u,v]=Ie(),[,C]=Ie(1),d=Me(null),h=Me(null),m=Me(null),f=Me(null),g=Me(),E=Me(),w=I=>{I!=null&&g.current&&g.current(I)},{ctrl:S}=e,k=Fs(I=>{if(d.current=I,!d.current)return;E.current=new Ss(D=>{g.current=D});const O={addOrRemoveCssClass:(D,L)=>n(T=>T.setClass(D,L)),addOrRemoveBodyCssClass:(D,L)=>l(T=>T.setClass(D,L)),setButtonWrapperDisplayed:D=>{c(L=>L.setClass("ag-hidden",!D)),i(D?"false":"true")},setWidth:D=>{d.current&&(d.current.style.width=D)},setCompDetails:D=>v(D),getFloatingFilterComp:()=>E.current?E.current:null,setMenuIcon:D=>f.current?.appendChild(D)};S.setComp(O,d.current,f.current,h.current)},[]);Is(()=>De(u,t,h.current,w),[u]);const G=Fe(()=>s.toString(),[s]),M=Fe(()=>a.toString(),[a]),R=Fe(()=>o.toString(),[o]),y=Fe(()=>!!(u&&u.componentFromFramework&&Se(u.componentClass)),[u]),P=Fe(()=>r.get("reactiveCustomComponents"),[]),b=Fe(()=>{if(u)if(P){const I=new Or(u.params,()=>C(O=>O+1));return w(I),I}else u.componentFromFramework&&Ye()},[u]),U=b?.getProps(),A=u&&u.componentFromFramework,N=u&&u.componentClass;return Re.createElement("div",{ref:k,className:G,role:"gridcell"},Re.createElement("div",{ref:h,className:M,role:"presentation"},A&&!P&&Re.createElement(N,{...u.params,ref:y?()=>{}:w}),A&&P&&Re.createElement(Be.Provider,{value:{setMethods:I=>b.setMethods(I)}},Re.createElement(N,{...U}))),Re.createElement("div",{ref:m,"aria-hidden":p,className:R,role:"presentation"},Re.createElement("button",{ref:f,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Gs=ks(xs);import tt,{memo as As,useCallback as Os,useContext as Ds,useEffect as Bs,useLayoutEffect as Ws,useMemo as rt,useRef as ft,useState as Ue}from"react";var Ts=e=>{const{context:t}=Ds(q),{ctrl:r}=e,[s,n]=Ue(()=>new ee),[a,l]=Ue(()=>new ee),[o,c]=Ue("false"),[p,i]=Ue(),[u,v]=Ue(),C=rt(()=>r.getColId(),[]),d=ft(null),h=ft(null),m=ft(),f=Os(G=>{if(d.current=G,!d.current)return;const M={setWidth:R=>{d.current&&(d.current.style.width=R)},addOrRemoveCssClass:(R,y)=>n(P=>P.setClass(R,y)),setUserCompDetails:R=>v(R),setResizableDisplayed:R=>{l(y=>y.setClass("ag-hidden",!R)),c(R?"false":"true")},setAriaExpanded:R=>i(R),getUserCompInstance:()=>m.current||void 0};r.setComp(M,d.current,h.current)},[]);Ws(()=>De(u,t,d.current),[u]),Bs(()=>{d.current&&r.setDragSource(d.current)},[u]);const g=rt(()=>!!(u?.componentFromFramework&&Se(u.componentClass)),[u]),E=rt(()=>"ag-header-group-cell "+s.toString(),[s]),w=rt(()=>"ag-header-cell-resize "+a.toString(),[a]),S=u&&u.componentFromFramework,k=u&&u.componentClass;return tt.createElement("div",{ref:f,className:E,"col-id":C,role:"columnheader","aria-expanded":p},S&&g&&tt.createElement(k,{...u.params}),S&&!g&&tt.createElement(k,{...u.params,ref:m}),tt.createElement("div",{ref:h,"aria-hidden":o,className:w}))},Ns=As(Ts),Hs=e=>{const{ctrl:t}=e,{topOffset:r,rowHeight:s}=Ut(()=>t.getTopAndHeight(),[]),n=t.getAriaRowIndex(),a=t.getHeaderRowClass(),[l,o]=ht(()=>s+"px"),[c,p]=ht(()=>r+"px"),i=mt(null),u=mt(null),[v,C]=ht(()=>t.getHeaderCtrls()),d=mt(null),h=Ht(g=>{if(d.current=g,!g)return;const E={setHeight:w=>o(w),setTop:w=>p(w),setHeaderCtrls:(w,S,k)=>{u.current=i.current,i.current=w;const G=ct(u.current,w,S);G!==u.current&&at(k,()=>C(G))},setWidth:w=>{d.current&&(d.current.style.width=w)}};t.setComp(E,!1)},[]),m=Ut(()=>({height:l,top:c}),[l,c]),f=Ht(g=>{switch(t.getType()){case Nt.COLUMN_GROUP:return et.createElement(Ns,{ctrl:g,key:g.getInstanceId()});case Nt.FLOATING_FILTER:return et.createElement(Gs,{ctrl:g,key:g.getInstanceId()});default:return et.createElement(bs,{ctrl:g,key:g.getInstanceId()})}},[]);return et.createElement("div",{ref:h,className:a,role:"row",style:m,"aria-rowindex":n},v.map(f))},Us=ps(Hs),Ls=e=>{const[t,r]=Tt(!0),[s,n]=Tt([]),{context:a}=ds(q),l=pt(null),o=pt(null),c=pt(null),p=e.pinned==="left",i=e.pinned==="right",u=!p&&!i,v=us(h=>{if(l.current=h,!l.current){a.destroyBean(c.current),c.current=null;return}const m={setDisplayed:r,setCtrls:f=>n(f),setCenterWidth:f=>{o.current&&(o.current.style.width=f)},setViewportScrollLeft:f=>{l.current&&(l.current.scrollLeft=f)},setPinnedContainerWidth:f=>{l.current&&(l.current.style.width=f,l.current.style.minWidth=f,l.current.style.maxWidth=f)}};c.current=a.createBean(new ls(e.pinned)),c.current.setComp(m,l.current)},[]),C=t?"":"ag-hidden",d=()=>s.map(h=>ge.createElement(Us,{ctrl:h,key:h.getInstanceId()}));return ge.createElement(ge.Fragment,null,p&&ge.createElement("div",{ref:v,className:"ag-pinned-left-header "+C,"aria-hidden":!t,role:"rowgroup"},d()),i&&ge.createElement("div",{ref:v,className:"ag-pinned-right-header "+C,"aria-hidden":!t,role:"rowgroup"},d()),u&&ge.createElement("div",{ref:v,className:"ag-header-viewport "+C,role:"presentation"},ge.createElement("div",{ref:o,className:"ag-header-container",role:"rowgroup"},d())))},Ct=is(Ls),_s=()=>{const[e,t]=Wt(()=>new ee),[r,s]=Wt(),{context:n}=cs(q),a=Bt(null),l=Bt(null),o=as(i=>{if(a.current=i,!i){n.destroyBean(l.current),l.current=null;return}const u={addOrRemoveCssClass:(v,C)=>t(d=>d.setClass(v,C)),setHeightAndMinHeight:v=>s(v)};l.current=n.createBean(new ns),l.current.setComp(u,a.current,a.current)},[]),c=Dt(()=>"ag-header "+e.toString(),[e]),p=Dt(()=>({height:r,minHeight:r}),[r]);return Xe.createElement("div",{ref:o,className:c,style:p,role:"presentation"},Xe.createElement(Ct,{pinned:"left"}),Xe.createElement(Ct,{pinned:null}),Xe.createElement(Ct,{pinned:"right"}))},Vs=os(_s);import{useEffect as js}from"react";var zs=(e,t)=>{js(()=>{const r=t.current;if(r){const s=r.parentElement;if(s){const n=document.createComment(e);return s.insertBefore(n,r),()=>{s.removeChild(n)}}}},[e])},ye=zs;import{RowContainerCtrl as $s,_getRowContainerOptions as Js}from"ag-grid-community";import Le,{memo as Ks,useCallback as _e,useContext as Qs,useMemo as gt,useRef as xe,useState as qs}from"react";import{CssClassManager as Ys}from"ag-grid-community";import Ge,{memo as Zs,useCallback as Xs,useContext as en,useEffect as Lt,useLayoutEffect as tn,useMemo as _t,useRef as me,useState as ie}from"react";import{CssClassManager as rn,_removeFromParent as sn}from"ag-grid-community";import H,{memo as nn,useCallback as Ae,useContext as on,useLayoutEffect as Rt,useMemo as yt,useRef as ue,useState as de}from"react";import{AgPromise as an}from"ag-grid-community";var cn=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new an(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){ut(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}};import Vt,{memo as ln,useContext as un,useState as dn}from"react";import{createPortal as pn}from"react-dom";import{useEffect as mn,useRef as st,useState as hn}from"react";var fn=e=>{const t=st(e),r=st(),s=st(!1),n=st(!1),[,a]=hn(0);s.current&&(n.current=!0),mn(()=>(s.current||(r.current=t.current(),s.current=!0),a(l=>l+1),()=>{n.current&&r.current&&r.current()}),[])},Cn=e=>{const[t,r]=dn(),{context:s,popupService:n,localeService:a,gos:l,editService:o}=un(q);return fn(()=>{const{editDetails:c,cellCtrl:p,eParentCell:i}=e,{compDetails:u}=c,v=l.get("stopEditingWhenCellsLoseFocus"),C=s.createBean(o.createPopupEditorWrapper(u.params)),d=C.getGui();if(e.jsChildComp){const w=e.jsChildComp.getGui();w&&d.appendChild(w)}const h={column:p.getColumn(),rowNode:p.getRowNode(),type:"popupCellEditor",eventSource:i,ePopup:d,position:c.popupPosition,keepWithinBounds:!0},m=n.positionPopupByComponent.bind(n,h),f=a.getLocaleTextFunc(),g=n.addPopup({modal:v,eChild:d,closeOnEsc:!0,closedCallback:()=>{p.onPopupEditorClosed()},anchorToElement:i,positionCallback:m,ariaLabel:f("ariaLabelCellEditor","Cell Editor")}),E=g?g.hideFunc:void 0;return r(C),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{E?.(),s.destroyBean(C)}}),Vt.createElement(Vt.Fragment,null,t&&e.wrappedContent&&pn(e.wrappedContent,t.getGui()))},jt=ln(Cn);import{useCallback as gn,useContext as Rn,useEffect as zt}from"react";var yn=(e,t,r,s,n,a)=>{const{context:l}=Rn(q),o=gn(()=>{const c=n.current;if(!c)return;const p=c.getGui();p&&p.parentElement&&p.parentElement.removeChild(p),l.destroyBean(c),n.current=void 0},[]);zt(()=>{const c=e!=null,p=e&&e.compDetails&&!e.compDetails.componentFromFramework,i=t&&r==null;if(!(c&&p&&!i)){o();return}const v=e.compDetails;if(n.current){const d=n.current,m=d.refresh!=null&&e.force==!1?d.refresh(v.params):!1;if(m===!0||m===void 0)return;o()}const C=v.newAgStackInstance();C?.then(d=>{if(!d)return;const h=d.getGui();if(!h)return;(t?r:a.current).appendChild(h),n.current=d})},[e,t,s]),zt(()=>o,[])},vn=yn,wn=(e,t,r)=>{const{compProxy:s}=e;r(s);const n=s.getProps(),a=Se(t);return H.createElement(Be.Provider,{value:{setMethods:l=>s.setMethods(l)}},a&&H.createElement(t,{...n}),!a&&H.createElement(t,{...n,ref:l=>s.setRef(l)}))},$t=(e,t,r)=>{const s=e.compProxy;return H.createElement(H.Fragment,null,!s&&H.createElement(t,{...e.compDetails.params,ref:r}),s&&wn(e,t,r))},En=(e,t,r,s,n,a)=>{const l=e.compDetails,o=l.componentClass,c=l.componentFromFramework&&!e.popup,p=l.componentFromFramework&&e.popup,i=!l.componentFromFramework&&e.popup;return H.createElement(H.Fragment,null,c&&$t(e,o,t),p&&H.createElement(jt,{editDetails:e,cellCtrl:n,eParentCell:s,wrappedContent:$t(e,o,r)}),i&&a&&H.createElement(jt,{editDetails:e,cellCtrl:n,eParentCell:s,jsChildComp:a}))},Pn=(e,t,r,s,n,a,l)=>{const{compDetails:o,value:c}=e,p=!o,i=o&&o.componentFromFramework,u=o&&o.componentClass,v=c?.toString?c.toString():c,C=()=>H.createElement(H.Fragment,null,p&&H.createElement(H.Fragment,null,v),i&&!a&&H.createElement(u,{...o.params,key:t,ref:s}),i&&a&&H.createElement(u,{...o.params,key:t}));return H.createElement(H.Fragment,null,n?H.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:l},C()):C())},bn=e=>{const{context:t}=on(q),{cellCtrl:r,printLayout:s,editingRow:n}=e,a=r.getTabIndex(),l=r.getColumnIdSanitised(),o=r.getInstanceId(),[c,p]=de(()=>r.isCellRenderer()?void 0:{compDetails:void 0,value:r.getValueToDisplay(),force:!1}),[i,u]=de(),[v,C]=de(1),[d,h]=de(),[m,f]=de(!1),[g,E]=de(!1),[w,S]=de(!1),[k,G]=de(),M=yt(()=>r.isForceWrapper(),[r]),R=yt(()=>r.getCellAriaRole(),[r]),y=ue(null),P=ue(null),b=ue(),U=ue(),A=ue(),N=ue([]),I=ue(),[O,D]=de(0),L=Ae($=>{I.current=$,D(V=>V+1)},[]),T=c!=null&&(m||w||g),B=M||T,F=Ae(($,V)=>{U.current=V,V&&V.isCancelBeforeStart&&V.isCancelBeforeStart()&&setTimeout(()=>{r.stopEditing(!0),r.focusCell(!0)})},[r]),J=Ae($=>F(!0,$),[F]),Z=Ae($=>F(!1,$),[F]),W=ue();W.current||(W.current=new rn(()=>y.current)),vn(c,B,I.current,O,b,y);const pe=ue();Rt(()=>{const $=pe.current,V=c;if(pe.current=c,$==null||$.compDetails==null||V==null||V.compDetails==null)return;const z=$.compDetails,x=V.compDetails;if(z.componentClass!=x.componentClass||P.current==null||P.current.refresh==null)return;P.current.refresh(x.params)!=!0&&C(Q=>Q+1)},[c]),Rt(()=>{if(!(i&&!i.compDetails.componentFromFramework))return;const V=i.compDetails,z=i.popup===!0,x=V.newAgStackInstance();return x.then(j=>{if(!j)return;const Q=j.getGui();F(z,j),z||((M?A:y).current?.appendChild(Q),j.afterGuiAttached&&j.afterGuiAttached()),G(j)}),()=>{x.then(j=>{const Q=j.getGui();t.destroyBean(j),F(z,void 0),G(void 0),Q&&Q.parentElement&&Q.parentElement.removeChild(Q)})}},[i]);const K=Ae($=>{if(A.current=$,!A.current){N.current.forEach(z=>z()),N.current=[];return}const V=z=>{if(z){const x=z.getGui();A.current?.insertAdjacentElement("afterbegin",x),N.current.push(()=>{t.destroyBean(z),sn(x)})}return z};if(m){const z=r.createSelectionCheckbox();V(z)}w&&V(r.createDndSource()),g&&V(r.createRowDragComp())},[r,t,w,g,m]),oe=Ae($=>{if(y.current=$,!y.current||!r)return;const V={addOrRemoveCssClass:(x,j)=>W.current.addOrRemoveCssClass(x,j),setUserStyles:x=>h(x),getFocusableElement:()=>y.current,setIncludeSelection:x=>f(x),setIncludeRowDrag:x=>E(x),setIncludeDndSource:x=>S(x),getCellEditor:()=>U.current||null,getCellRenderer:()=>P.current?P.current:b.current,getParentOfValue:()=>I.current?I.current:A.current?A.current:y.current,setRenderDetails:(x,j,Q)=>{p(ae=>ae?.compDetails!==x||ae?.value!==j||ae?.force!==Q?{value:j,compDetails:x,force:Q}:ae)},setEditDetails:(x,j,Q,ae)=>{if(x){let we;ae?we=new cn(x.params,()=>C(he=>he+1)):x.componentFromFramework&&Ye(),u({compDetails:x,popup:j,popupPosition:Q,compProxy:we}),j||p(void 0)}else u(we=>{we?.compProxy&&(U.current=void 0)})}},z=A.current||void 0;r.setComp(V,y.current,z,s,n)},[]),ve=yt(()=>!!(c&&c.compDetails&&c.compDetails.componentFromFramework&&Se(c.compDetails.componentClass)),[c]);Rt(()=>{y.current&&(W.current.addOrRemoveCssClass("ag-cell-value",!B),W.current.addOrRemoveCssClass("ag-cell-inline-editing",!!i&&!i.popup),W.current.addOrRemoveCssClass("ag-cell-popup-editing",!!i&&!!i.popup),W.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!i||!!i.popup),r.getRowCtrl()?.setInlineEditingCss(!!i),r.shouldRestoreFocus()&&!r.isEditing()&&y.current.focus({preventScroll:!0}))});const je=()=>H.createElement(H.Fragment,null,c!=null&&Pn(c,v,o,P,B,ve,L),i!=null&&En(i,Z,J,y.current,r,k));return H.createElement("div",{ref:oe,style:d,tabIndex:a,role:R,"col-id":l},B?H.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:K},je()):je())},Sn=nn(bn),kn=e=>{const{context:t,gos:r}=en(q),{rowCtrl:s,containerType:n}=e,a=s.getTabIndex(),l=me(s.getDomOrder()),o=s.isFullWidth(),c=s.getRowNode().displayed,[p,i]=ie(()=>c?s.getRowIndex():null),[u,v]=ie(()=>s.getRowId()),[C,d]=ie(()=>s.getBusinessKey()),[h,m]=ie(()=>s.getRowStyles()),f=me(null),g=me(null),[E,w]=ie(()=>null),[S,k]=ie(),[G,M]=ie(()=>c?s.getInitialRowTop(n):void 0),[R,y]=ie(()=>c?s.getInitialTransform(n):void 0),P=me(null),b=me(),U=me(!1),[A,N]=ie(0);Lt(()=>{if(U.current||!S||A>10)return;const W=P.current?.firstChild;W?(s.setupDetailRowAutoHeight(W),U.current=!0):N(pe=>pe+1)},[S,A]);const I=me();I.current||(I.current=new Ys(()=>P.current));const O=Xs(W=>{if(P.current=W,!P.current){s.unsetComp(n);return}if(!s.isAlive())return;const pe={setTop:M,setTransform:y,addOrRemoveCssClass:(K,oe)=>I.current.addOrRemoveCssClass(K,oe),setDomOrder:K=>l.current=K,setRowIndex:i,setRowId:v,setRowBusinessKey:d,setUserStyles:m,setCellCtrls:(K,oe)=>{g.current=f.current,f.current=K;const ve=ct(g.current,K,l.current);ve!==g.current&&at(oe,()=>w(ve))},showFullWidth:K=>k(K),getFullWidthCellRenderer:()=>b.current,refreshFullWidth:K=>F.current?(k(oe=>({...oe,params:K()})),!0):!b.current||!b.current.refresh?!1:b.current.refresh(K())};s.setComp(pe,P.current,n)},[]);tn(()=>De(S,t,P.current,b),[S]);const D=_t(()=>{const W={top:G,transform:R};return Object.assign(W,h),W},[G,R,h]),L=o&&S&&S.componentFromFramework,T=!o&&E!=null,B=_t(()=>!!(S?.componentFromFramework&&Se(S.componentClass)),[S]),F=me(!1);Lt(()=>{F.current=B&&!!S&&!!r.get("reactiveCustomComponents")},[B,S]);const J=()=>E?.map(W=>Ge.createElement(Sn,{cellCtrl:W,editingRow:s.isEditing(),printLayout:s.isPrintLayout(),key:W.getInstanceId()})),Z=()=>{const W=S.componentClass;return Ge.createElement(Ge.Fragment,null,B&&Ge.createElement(W,{...S.params}),!B&&Ge.createElement(W,{...S.params,ref:b}))};return Ge.createElement("div",{ref:O,role:"row",style:D,"row-index":p,"row-id":u,"row-business-key":C,tabIndex:a},T&&J(),L&&Z())},Fn=Zs(kn),Mn=e=>{const{context:t}=Qs(q),{name:r}=e,s=gt(()=>Js(r),[r]),n=xe(null),a=xe(null),l=xe([]),o=xe([]),[c,p]=qs(()=>[]),i=xe(!1),u=xe(),v=gt(()=>re(s.viewport),[s]),C=gt(()=>re(s.container),[s]),d=s.type==="center",h=d?n:a;ye(" AG Row Container "+r+" ",h);const m=_e(()=>d?n.current!=null&&a.current!=null:a.current!=null,[]),f=_e(()=>d?n.current==null&&a.current==null:a.current==null,[]),g=_e(()=>{if(f()&&(t.destroyBean(u.current),u.current=null),m()){const k=M=>{const R=ct(o.current,l.current,i.current);R!==o.current&&(o.current=R,at(M,()=>p(R)))},G={setViewportHeight:M=>{n.current&&(n.current.style.height=M)},setRowCtrls:({rowCtrls:M,useFlushSync:R})=>{const y=!!R&&l.current.length>0&&M.length>0;l.current=M,k(y)},setDomOrder:M=>{i.current!=M&&(i.current=M,k(!1))},setContainerWidth:M=>{a.current&&(a.current.style.width=M)},setOffsetTop:M=>{a.current&&(a.current.style.transform=`translateY(${M})`)}};u.current=t.createBean(new $s(r)),u.current.setComp(G,a.current,n.current)}},[m,f]),E=_e(k=>{a.current=k,g()},[g]),w=_e(k=>{n.current=k,g()},[g]),S=()=>Le.createElement("div",{className:C,ref:E,role:"rowgroup"},c.map(k=>Le.createElement(Fn,{rowCtrl:k,containerType:s.type,key:k.getInstanceId()})));return Le.createElement(Le.Fragment,null,d?Le.createElement("div",{className:v,ref:w,role:"presentation"},S()):S())},In=Ks(Mn),xn=()=>{const{context:e,resizeObserverService:t}=ss(q),[r,s]=Y(""),[n,a]=Y(0),[l,o]=Y(0),[c,p]=Y("0px"),[i,u]=Y("0px"),[v,C]=Y("100%"),[d,h]=Y("0px"),[m,f]=Y("0px"),[g,E]=Y("100%"),[w,S]=Y(""),[k,G]=Y(""),[M,R]=Y(null),[y,P]=Y(""),[b,U]=Y(null),[A,N]=Y("ag-layout-normal"),I=ne();I.current||(I.current=new Kr(()=>O.current));const O=ne(null),D=ne(null),L=ne(null),T=ne(null),B=ne(null),F=ne(null),J=ne(null),Z=ne([]),W=ne([]);ye(" AG Grid Body ",O),ye(" AG Pinned Top ",D),ye(" AG Sticky Top ",L),ye(" AG Middle ",F),ye(" AG Pinned Bottom ",J);const pe=rs(Ee=>{if(O.current=Ee,!O.current){e.destroyBeans(Z.current),W.current.forEach(_=>_()),Z.current=[],W.current=[];return}if(!e)return;const ze=(_,X)=>{_.appendChild(X),W.current.push(()=>_.removeChild(X))},nt=_=>{const X=e.createBean(new _);return Z.current.push(X),X},Oe=(_,X,Yt)=>{ze(_,document.createComment(Yt)),ze(_,nt(X).getGui())};Oe(O.current,Qr," AG Fake Horizontal Scroll "),Oe(O.current,Zr," AG Overlay Wrapper "),B.current&&Oe(B.current,qr," AG Fake Vertical Scroll ");const qt={setRowAnimationCssOnBodyViewport:s,setColumnCount:_=>{O.current&&Xr(O.current,_)},setRowCount:_=>{O.current&&es(O.current,_)},setTopHeight:a,setBottomHeight:o,setStickyTopHeight:p,setStickyTopTop:u,setStickyTopWidth:C,setTopDisplay:S,setBottomDisplay:G,setColumnMovingCss:(_,X)=>I.current.addOrRemoveCssClass(_,X),updateLayoutClasses:N,setAlwaysVerticalScrollClass:R,setPinnedTopBottomOverflowY:P,setCellSelectableCss:(_,X)=>U(X?_:null),setBodyViewportWidth:_=>{F.current&&(F.current.style.width=_)},registerBodyViewportResizeListener:_=>{if(F.current){const X=t.observeResize(F.current,_);W.current.push(()=>X())}},setStickyBottomHeight:h,setStickyBottomBottom:f,setStickyBottomWidth:E},bt=e.createBean(new Yr);Z.current.push(bt),bt.setComp(qt,O.current,F.current,D.current,J.current,L.current,T.current)},[]),K=se(()=>re("ag-root","ag-unselectable",A),[A]),oe=se(()=>re("ag-body-viewport",r,A,M,b),[r,A,M,b]),ve=se(()=>re("ag-body",A),[A]),je=se(()=>re("ag-floating-top",b),[b]),$=se(()=>re("ag-sticky-top",b),[b]),V=se(()=>re("ag-sticky-bottom",b),[b]),z=se(()=>re("ag-floating-bottom",b),[b]),x=se(()=>({height:n,minHeight:n,display:w,overflowY:y}),[n,w,y]),j=se(()=>({height:c,top:i,width:v}),[c,i,v]),Q=se(()=>({height:d,bottom:m,width:g}),[d,m,g]),ae=se(()=>({height:l,minHeight:l,display:k,overflowY:y}),[l,k,y]),we=Ee=>Te.createElement(In,{name:Ee,key:`${Ee}-container`}),he=({section:Ee,children:ze,className:nt,style:Oe})=>Te.createElement("div",{ref:Ee,className:nt,role:"presentation",style:Oe},ze.map(we));return Te.createElement("div",{ref:pe,className:K,role:"treegrid"},Te.createElement(Vs,null),he({section:D,className:je,style:x,children:["topLeft","topCenter","topRight","topFullWidth"]}),Te.createElement("div",{className:ve,ref:B,role:"presentation"},he({section:F,className:oe,children:["left","center","right","fullWidth"]})),he({section:L,className:$,style:j,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),he({section:T,className:V,style:Q,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),he({section:J,className:z,style:ae,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},Gn=ts(xn);import{TabGuardClassNames as vt,TabGuardCtrl as An}from"ag-grid-community";import wt,{forwardRef as On,memo as Dn,useCallback as Et,useContext as Bn,useImperativeHandle as Wn,useRef as Pt}from"react";var Tn=(e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:n,gridCtrl:a,forceFocusOutWhenTabGuardsAreEmpty:l}=e,{context:o}=Bn(q),c=Pt(null),p=Pt(null),i=Pt(),u=m=>{const f=m==null?void 0:parseInt(m,10).toString();[c,p].forEach(g=>{f===void 0?g.current?.removeAttribute("tabindex"):g.current?.setAttribute("tabindex",f)})};Wn(t,()=>({forceFocusOutOfContainer(m){i.current?.forceFocusOutOfContainer(m)}}));const v=Et(()=>{if(!c.current&&!p.current){o.destroyBean(i.current),i.current=null;return}if(c.current&&p.current){const m={setTabIndex:u};i.current=o.createBean(new An({comp:m,eTopGuard:c.current,eBottomGuard:p.current,eFocusableElement:s,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:l,focusInnerElement:f=>a.focusInnerElement(f)}))}},[]),C=Et(m=>{c.current=m,v()},[v]),d=Et(m=>{p.current=m,v()},[v]),h=m=>{const f=m==="top"?vt.TAB_GUARD_TOP:vt.TAB_GUARD_BOTTOM;return wt.createElement("div",{className:`${vt.TAB_GUARD} ${f}`,role:"presentation",ref:m==="top"?C:d})};return wt.createElement(wt.Fragment,null,h("top"),r,h("bottom"))},Nn=On(Tn),Hn=Dn(Nn),Un=({context:e})=>{const[t,r]=Ce(""),[s,n]=Ce(""),[a,l]=Ce(null),[o,c]=Ce(null),[p,i]=Ce(!1),[u,v]=Ce(),C=ke(null),d=ke(null),h=ke(),[m,f]=Ce(null),g=ke(()=>{}),E=ke(),w=ke([]),S=dt(()=>{},[]),k=Ze(()=>e.isDestroyed()?null:e.getBeans(),[e]);ye(" AG Grid ",d);const G=dt(b=>{if(d.current=b,!d.current){e.destroyBean(C.current),C.current=null;return}if(e.isDestroyed())return;C.current=e.createBean(new zr);const U=C.current;g.current=U.focusInnerElement.bind(U);const A={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:N=>{if(!N&&E.current?.isDisplayed()){E.current.forceFocusOutOfContainer(N);return}h.current?.forceFocusOutOfContainer(N)},updateLayoutClasses:n,getFocusableContainers:()=>{const N=[],I=d.current?.querySelector(".ag-root");return I&&N.push({getGui:()=>I}),w.current.forEach(O=>{O.isDisplayed()&&N.push(O)}),N},setCursor:l,setUserSelect:c};U.setComp(A,d.current,d.current),i(!0)},[]);Jr(()=>{if(!u||!k||!C.current||!m||!d.current)return;const b=C.current,U=[],{watermarkSelector:A,paginationSelector:N,sideBarSelector:I,statusBarSelector:O,gridHeaderDropZonesSelector:D}=b.getOptionalSelectors(),L=[],T=d.current;if(D){const F=e.createBean(new D.component),J=F.getGui();T.insertAdjacentElement("afterbegin",J),L.push(J),U.push(F)}if(I){const F=e.createBean(new I.component),J=F.getGui(),Z=m.querySelector(".ag-tab-guard-bottom");Z&&(Z.insertAdjacentElement("beforebegin",J),L.push(J)),U.push(F),w.current.push(F)}const B=F=>{const J=e.createBean(new F),Z=J.getGui();return T.insertAdjacentElement("beforeend",Z),L.push(Z),U.push(J),J};if(O&&B(O.component),N){const F=B(N.component);E.current=F,w.current.push(F)}return A&&B(A.component),()=>{e.destroyBeans(U),L.forEach(F=>{F.parentElement&&F.parentElement.removeChild(F)})}},[u,m,k]);const M=Ze(()=>re("ag-root-wrapper",t,s),[t,s]),R=Ze(()=>re("ag-root-wrapper-body","ag-focus-managed",s),[s]),y=Ze(()=>({userSelect:o??"",WebkitUserSelect:o??"",cursor:a??""}),[o,a]),P=dt(b=>{h.current=b,v(b!==null)},[]);return We.createElement("div",{ref:G,className:M,style:y,role:"presentation"},We.createElement("div",{className:R,ref:f,role:"presentation"},p&&m&&k&&We.createElement(q.Provider,{value:k},We.createElement(Hn,{ref:P,eFocusableElement:m,onTabKeyDown:S,gridCtrl:C.current,forceFocusOutWhenTabGuardsAreEmpty:!0},We.createElement(Gn,null)))))},Ln=$r(Un);import{BeanStub as _n}from"ag-grid-community";var Vn=class extends _n{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},Jt=e=>{const t=te(),r=te(null),s=te(null),n=te([]),a=te([]),l=te(e),o=te(),c=te(!1),[p,i]=Pe(void 0),[,u]=Pe(0),v=Je(h=>{if(r.current=h,!r.current){n.current.forEach(R=>R()),n.current.length=0;return}const m=e.modules||[];s.current||(s.current=new jr(()=>u(R=>R+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),n.current.push(()=>{s.current?.destroy(),s.current=null}));const f=nr(e.gridOptions,e),g=()=>{if(c.current){const R=()=>o.current?.shouldQueueUpdates()?void 0:a.current.shift();let y=R();for(;y;)y(),y=R()}},E=Rr()?new Jn(g):new Kt;o.current=E;const w=new Vn,S={providedBeanInstances:{frameworkComponentWrapper:new zn(s.current,f.reactiveCustomComponents??!0),renderStatusService:w},modules:m,frameworkOverrides:E},k=R=>{i(R),R.createBean(w),n.current.push(()=>{R.destroy()}),R.getBean("ctrlsService").whenReady(()=>{if(R.isDestroyed())return;const P=t.current;P&&e.setGridApi&&e.setGridApi(P)})},G=R=>{R.getBean("ctrlsService").whenReady(()=>{a.current.forEach(P=>P()),a.current.length=0,c.current=!0})},M=new tr;t.current=M.create(r.current,f,k,G,S)},[]),C=Ke(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),d=Je(h=>{c.current&&!o.current?.shouldQueueUpdates()?h():a.current.push(h)},[]);return ir(()=>{const h=jn(l.current,e);l.current=e,d(()=>{t.current&&or(h,t.current)})},[e]),$e.createElement("div",{style:C,className:e.className,ref:v},p&&!p.isDestroyed()?$e.createElement(Ln,{context:p}):null,s.current?.getPortals()??null)};function jn(e,t){const r={};return Object.keys(t).forEach(s=>{const n=t[s];e[s]!==n&&(r[s]=n)}),r}var zn=class extends er{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const n=(a=>{switch(a){case"filter":return Gr;case"floatingFilterComponent":return Dr;case"dateComponent":return xr;case"loadingOverlayComponent":return Br;case"noRowsOverlayComponent":return Tr;case"statusPanel":return Nr;case"toolPanel":return Hr;case"menuItem":return Wr;case"cellRenderer":return Ir}})(t.propertyName);if(n)return new n(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Ye();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new At(e,this.parent,t,r)}},$n=cr((e,t)=>{const{ctrlsFactory:r,context:s,gos:n,resizeObserverService:a,rowModel:l}=lr(q),[o,c]=Pe(()=>new ee),[p,i]=Pe(()=>new ee),[u,v]=Pe(),[C,d]=Pe(),h=te(),m=te(null),f=te(),g=Ke(()=>rr.__getGridRegisteredModules(e.api.getGridId()),[e]),E=Ke(()=>o.toString()+" ag-details-row",[o]),w=Ke(()=>p.toString()+" ag-details-grid",[p]);t&&ur(t,()=>({refresh(){return h.current?.refresh()??!1}})),e.template&&ar("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const S=Je(G=>{if(m.current=G,!m.current){s.destroyBean(h.current),f.current&&f.current();return}const M={addOrRemoveCssClass:(y,P)=>c(b=>b.setClass(y,P)),addOrRemoveDetailGridCssClass:(y,P)=>i(b=>b.setClass(y,P)),setDetailGrid:y=>v(y),setRowData:y=>d(y),getGui:()=>m.current},R=r.getInstance("detailCellRenderer");if(R&&(s.createBean(R),R.init(M,e),h.current=R,n.get("detailRowAutoHeight"))){const y=()=>{if(m.current==null)return;const P=m.current.clientHeight;P!=null&&P>0&&setTimeout(()=>{e.node.setRowHeight(P),(l.getType()==="clientSide"||l.getType()==="serverSide")&&l.onRowHeightChanged()},0)};f.current=a.observeResize(m.current,y),y()}},[]),k=Je(G=>{h.current?.registerDetailWithMaster(G)},[]);return $e.createElement("div",{className:E,ref:S},u&&$e.createElement(Jt,{className:w,...u,modules:g,rowData:C,setGridApi:k}))}),Kt=class extends sr{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:Mt,agGroupRowRenderer:Mt,agDetailCellRenderer:$n},this.wrapIncoming=(e,t)=>t==="ensureVisible"?yr(e):e(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}shouldQueueUpdates(){return!1}getLockOnRefreshError(){return" This error can also occur if using 'ReactDOM.render' instead of 'createRoot'. If so, please upgrade to 'createRoot'."}},Jn=class extends Kt{constructor(e){super(),this.processQueuedUpdates=e,this.queueUpdates=!1}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}getLockOnRefreshError(){return""}},Kn=class extends Xt{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return Zt.createElement(Jt,{...this.props,setGridApi:this.setGridApi})}};import{useContext as Qn}from"react";function Ve(e){const{setMethods:t}=Qn(Be);t(e)}function qn(e){Ve(e)}function Yn(e){return Ve(e)}function Zn(e){return Ve(e)}function Xn(e){Ve(e)}function eo(e){Ve(e)}export{Kn as AgGridReact,Be as CustomComponentContext,_r as getInstance,qn as useGridCellEditor,Yn as useGridDate,Zn as useGridFilter,Xn as useGridFloatingFilter,eo as useGridMenuItem,Ye as warnReactiveCustomComponents};
